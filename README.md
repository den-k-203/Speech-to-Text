# üó£Ô∏è Speech-to-Text –∑ –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—î—é —Å–ø—ñ–∫–µ—Ä—ñ–≤

–¶–µ–π –ø—Ä–æ—î–∫—Ç –≤–∏–∫–æ–Ω—É—î **—Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –º–æ–≤–ª–µ–Ω–Ω—è –∑ –∞—É–¥—ñ–æ—Ñ–∞–π–ª—É** –∑ **—Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –∑–∞ —Å–ø—ñ–∫–µ—Ä–∞–º–∏** (–¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—î—é), –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å—É—á–∞—Å–Ω—ñ –º–æ–¥–µ–ª—ñ:
- [`pyannote-audio`](https://github.com/pyannote/pyannote-audio) –¥–ª—è –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—ó
- [`faster-whisper`](https://github.com/guillaumekln/faster-whisper) –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó –º–æ–≤–ª–µ–Ω–Ω—è –≤ —Ç–µ–∫—Å—Ç
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ **GPU (CUDA)** –¥–ª—è –ø—Ä–∏—à–≤–∏–¥—à–µ–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏

---

## ‚öôÔ∏è –í–∏–º–æ–≥–∏

- **Python**: `3.8` –∞–±–æ `3.9`
- **CUDA** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è GPU): —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ CUDA `11.8` –∞–±–æ `12.1`
- GPU –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é FP16 –∞–±–æ INT8 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, NVIDIA GTX 1650 Ti –∞–±–æ –Ω–æ–≤—ñ—à–∞)

---

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. üîª –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É:

```bash
git clone https://github.com/your-username/speech-diarization-whisper.git
cd speech-diarization-whisper
```
2. üêç –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:
```bash
python -m venv .venv
source .venv/bin/activate  # –∞–±–æ .venv\Scripts\activate –Ω–∞ Windows
```
3. üì• –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
pip install -r requirements.txt
```
–Ø–∫—â–æ –ø–ª–∞–Ω—É—î—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ GPU, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ torch –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é CUDA:
```bash
pip uninstall torch torchaudio torchvision -y
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
```
---
## üìÑ –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
–£ —Ñ–∞–π–ª `.env` –¥–æ–¥–∞–π—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω HuggingFace:
```bash
#TOKEN HUGGINGFACE
TOKEN_HUGGINGFACE=<"TOKEN_HUGGINGFACE">
```
---
## üöÄ –ó–∞–ø—É—Å–∫
–°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∞—É–¥—ñ–æ—Ñ–∞–π–ª—É:
```bash
python main.py
```
–£ `main.py` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è:
```bash
process_audio_segments("—à–ª—è—Ö/–¥–æ/–∞—É–¥—ñ–æ.wav")
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É `output.json` —É —Ñ–æ—Ä–º–∞—Ç—ñ:
```bash
[
  {
    "speaker": "SPEAKER_00",
    "start": 0.13,
    "end": 4.51,
    "text": "–ü—Ä–∏–≤—ñ—Ç, —è–∫ —Å–ø—Ä–∞–≤–∏?"
  },
  ...
]
```
---
## üß† –î–ª—è —á–æ–≥–æ —Ü–µ–π –ø—Ä–æ—î–∫—Ç?
–¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è:

- üîä –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
- üë• –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ö—Ç–æ —ñ –∫–æ–ª–∏ –≥–æ–≤–æ—Ä–∏—Ç—å
- üßæ –§–æ—Ä–º—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—É –∑ —Ç–∞–π–º–∫–æ–¥–∞–º–∏

–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è:

- –ó–∞–ø–∏—Å—ñ–≤ –Ω–∞—Ä–∞–¥
- –Ü–Ω—Ç–µ—Ä–≤‚Äô—é
- –ü–æ–¥–∫–∞—Å—Ç—ñ–≤
- –ê–Ω–∞–ª—ñ–∑—É –≤—ñ–¥–µ–æ/–∞—É–¥—ñ–æ-–∞—Ä—Ö—ñ–≤—ñ–≤